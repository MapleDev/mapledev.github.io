<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Maple Blog</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://mapledev.github.io/"/>
  <updated>2016-07-27T12:00:41.463Z</updated>
  <id>https://mapledev.github.io/</id>
  
  <author>
    <name>Maple</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ResultReceiver在IntentService中的使用</title>
    <link href="https://mapledev.github.io/2016/07/27/ResultReceiver%E5%9C%A8IntentService%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>https://mapledev.github.io/2016/07/27/ResultReceiver在IntentService中的使用/</id>
    <published>2016-07-27T10:00:22.000Z</published>
    <updated>2016-07-27T12:00:41.463Z</updated>
    
    <content type="html">&lt;h2 id=&quot;想回去通风报信，没那么简单，就能…&quot;&gt;&lt;a href=&quot;#想回去通风报信，没那么简单，就能…&quot; class=&quot;headerlink&quot; title=&quot;想回去通风报信，没那么简单，就能…&quot;&gt;&lt;/a&gt;想回去通风报信，没那么简单，就能…&lt;/h2&gt;&lt;p&gt;IntentService使用很方便，但是想在 IntentService 返回一个 String 回 Act 就有点麻烦了。简单的回调方法对于 IntentService 是无效的。因为 IntentService 是新开的一个进程，涉及到了IPC。可以想到的方法：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;广播&lt;/li&gt;
&lt;li&gt;Binder&lt;/li&gt;
&lt;li&gt;ResultReceiver&lt;br&gt;后者比较陌生，没关系，我画了一张不标准的时序图：&lt;br&gt;&lt;img src=&quot;http://oaz0grxej.bkt.clouddn.com/blog_img_Activity_IntentService_ResultReceiver%E6%97%B6%E5%BA%8F%E5%9B%BE.jpg&quot; alt=&quot;Activity_IntentService_ResultReceiver时序图&quot;&gt;&lt;br&gt;Activity_IntentService_ResultReceiver时序图&lt;br&gt;ps:刚注册的七牛弄得图床，test。&lt;/li&gt;
&lt;/ol&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;具体代码就不自个写了，有个不错的贴，我就拾人牙慧了(其实是自个的代码没这位规范/注释，外加懒)，贴出:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;一、IntentService&lt;br&gt;IntentService继承自Service。IntentService内部有一个队列，它会把请求的Intent加入队列，然后开启一个worker thread(线程)来处理队列中的Intent，对于异步的startService请求，IntentService会处理完成一个之后再处理第二个，每一个请求都会在一个单独的worker thread中处理，不会阻塞应用程序的主线程。&lt;/p&gt;
&lt;p&gt;二、ResultReceiver&lt;br&gt;对于ResultReceiver网上相关资料甚少，只能从官方API文档下手：&lt;br&gt;Generic interface for receiving a callback result from someone. Use this by creating a subclass and implement onReceiveResult(int, Bundle), which you can then pass to others and send through IPC, and receive results they supply with send(int, Bundle).&lt;/p&gt;
&lt;p&gt;这段注释写得确实让我们不能获得什么有用的信息，它最关键的信息就是可以实现IPC（进程间通信）。其他的我们就从实例中学习吧（卤煮也是这么学到的）。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;三、实例：&lt;br&gt;ServiceResultReceiver.java&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ServiceResultReceiver&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ResultReceiver&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; Receiver mReceiver;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ServiceResultReceiver&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Handler handler)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(handler);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setReceiver&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Receiver receiver)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mReceiver = receiver;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;/*这就是官方注释Use this by creating a subclass and implement onReceiveResult(int, Bundle)要表达的意思，如果没有例子卤煮是怎么也不会想到居然需要这么写*/&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onReceiveResult&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; resultCode, Bundle resultData)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mReceiver != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        mReceiver.onReceiveResult(resultCode, resultData);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Receiver&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onReceiveResult&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; resultCode, Bundle resultData)&lt;/span&gt;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ForegroundActivity.java&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ForegroundActivity&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Activity&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;OnClickListener&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;Receiver&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; ServiceResultReceiver mResultReceiver = &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; ProgressDialog pDialog;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onCreate&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Bundle savedInstanceState)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onCreate(savedInstanceState);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                setContentView(R.layout.activity_foreground);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                pDialog = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ProgressDialog(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                findViewById(R.id.btn_start).setOnClickListener(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mResultReceiver = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ServiceResultReceiver(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Handler());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mResultReceiver.setReceiver(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(View v)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt; (v.getId()) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; R.id.btn_start:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                Intent intent = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Intent(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, BackgroundService.class);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                intent.putExtra(&lt;span class=&quot;string&quot;&gt;&quot;receiver&quot;&lt;/span&gt;, mResultReceiver);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                intent.putExtra(&lt;span class=&quot;string&quot;&gt;&quot;command&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;query&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                startService(intent);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onReceiveResult&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; resultCode, Bundle resultData)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;span class=&quot;comment&quot;&gt;//接口Receiver的方法&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt; (resultCode) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; BackgroundService.STATUS_ERROR:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                pDialog.dismiss();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; BackgroundService.STATUS_RUNNING:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                pDialog.show();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; BackgroundService.STATUS_FINISHED:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                pDialog.dismiss();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(resultData != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                        String result = resultData.getString(&lt;span class=&quot;string&quot;&gt;&quot;result&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                        Toast.makeText(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;response :&quot;&lt;/span&gt;+result, Toast.LENGTH_SHORT).show();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;BackgroundService .java&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BackgroundService&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;IntentService&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; String SERVICE_NAME = &lt;span class=&quot;string&quot;&gt;&quot;BackgroundService&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; STATUS_RUNNING = &lt;span class=&quot;number&quot;&gt;0x1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; STATUS_ERROR = &lt;span class=&quot;number&quot;&gt;0x2&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; STATUS_FINISHED = &lt;span class=&quot;number&quot;&gt;0x3&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BackgroundService&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(SERVICE_NAME);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onHandleIntent&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Intent intent)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; ResultReceiver receiver = intent.getParcelableExtra(&lt;span class=&quot;string&quot;&gt;&quot;receiver&quot;&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//获得ResultReceiver 对象&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;               String command = intent.getStringExtra(&lt;span class=&quot;string&quot;&gt;&quot;command&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;query&quot;&lt;/span&gt;.equals(command))&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            receiver.send(STATUS_RUNNING, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//发送信息&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                Thread.sleep(&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;*&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException e) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                e.printStackTrace();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    receiver.send(STATUS_ERROR, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            Bundle b = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Bundle();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            b.putString(&lt;span class=&quot;string&quot;&gt;&quot;result&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;hello world&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            receiver.send(STATUS_FINISHED, b);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;感谢：&quot;&gt;&lt;a href=&quot;#感谢：&quot; class=&quot;headerlink&quot; title=&quot;感谢：&quot;&gt;&lt;/a&gt;感谢：&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;【原】ResultReceiver在IntentService中的使用 - Android综合讨论 - 安卓巴士 - 安卓开发 - Android开发 - 安卓 - 移动互联网门户 - Powered by Discuz! - &lt;a href=&quot;http://www.apkbus.com/android-145389-1-1.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.apkbus.com/android-145389-1-1.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;想回去通风报信，没那么简单，就能…&quot;&gt;&lt;a href=&quot;#想回去通风报信，没那么简单，就能…&quot; class=&quot;headerlink&quot; title=&quot;想回去通风报信，没那么简单，就能…&quot;&gt;&lt;/a&gt;想回去通风报信，没那么简单，就能…&lt;/h2&gt;&lt;p&gt;IntentService使用很方便，但是想在 IntentService 返回一个 String 回 Act 就有点麻烦了。简单的回调方法对于 IntentService 是无效的。因为 IntentService 是新开的一个进程，涉及到了IPC。可以想到的方法：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;广播&lt;/li&gt;
&lt;li&gt;Binder&lt;/li&gt;
&lt;li&gt;ResultReceiver&lt;br&gt;后者比较陌生，没关系，我画了一张不标准的时序图：&lt;br&gt;&lt;img src=&quot;http://oaz0grxej.bkt.clouddn.com/blog_img_Activity_IntentService_ResultReceiver%E6%97%B6%E5%BA%8F%E5%9B%BE.jpg&quot; alt=&quot;Activity_IntentService_ResultReceiver时序图&quot;&gt;&lt;br&gt;Activity_IntentService_ResultReceiver时序图&lt;br&gt;ps:刚注册的七牛弄得图床，test。&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="Android" scheme="https://mapledev.github.io/categories/Android/"/>
    
    
      <category term="IntentService ResultReceiver" scheme="https://mapledev.github.io/tags/IntentService-ResultReceiver/"/>
    
  </entry>
  
  <entry>
    <title>思想汇报</title>
    <link href="https://mapledev.github.io/2016/07/25/%E6%80%9D%E6%83%B3%E6%B1%87%E6%8A%A5/"/>
    <id>https://mapledev.github.io/2016/07/25/思想汇报/</id>
    <published>2016-07-25T14:07:54.000Z</published>
    <updated>2016-07-25T14:20:59.276Z</updated>
    
    <content type="html">&lt;p&gt;反正这也没有什么人，就随便写点吧。&lt;br&gt;转眼五天过去了，没有更新。发现我有这毛病：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;干什么事，都是兴起，搞好了三分钟的热度&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;就拿这博客来说，没有弄之前很想弄好，想着自个天天更新，像那些大牛一样分享助人。说不定人家一高兴，还赏我一块二块的冰棍钱。但是坚持个二三天，热度消失了，就懒癌发作了。&lt;/p&gt;
&lt;h2 id=&quot;检讨自己&quot;&gt;&lt;a href=&quot;#检讨自己&quot; class=&quot;headerlink&quot; title=&quot;检讨自己&quot;&gt;&lt;/a&gt;检讨自己&lt;/h2&gt;&lt;p&gt;有个小博客也是蛮好的，人生在世几十年，说不定我没有了，这里还在呢：P&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;反正这也没有什么人，就随便写点吧。&lt;br&gt;转眼五天过去了，没有更新。发现我有这毛病：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;干什么事，都是兴起，搞好了三分钟的热度&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;就拿这博客来说，没有弄之前很想弄好，想着自个天天更新，像那些大牛一样分享助人。说不定人家一高兴
    
    </summary>
    
      <category term="未分类" scheme="https://mapledev.github.io/categories/%E6%9C%AA%E5%88%86%E7%B1%BB/"/>
    
    
  </entry>
  
  <entry>
    <title>随想</title>
    <link href="https://mapledev.github.io/2016/07/20/%E9%9A%8F%E6%83%B3/"/>
    <id>https://mapledev.github.io/2016/07/20/随想/</id>
    <published>2016-07-20T14:18:07.000Z</published>
    <updated>2016-07-25T14:08:31.760Z</updated>
    
    <content type="html">&lt;h2 id=&quot;今天一天是普通的一天，也是我一生中唯一的-2016-07-20&quot;&gt;&lt;a href=&quot;#今天一天是普通的一天，也是我一生中唯一的-2016-07-20&quot; class=&quot;headerlink&quot; title=&quot;今天一天是普通的一天，也是我一生中唯一的 2016-07-20&quot;&gt;&lt;/a&gt;今天一天是普通的一天，也是我一生中唯一的 2016-07-20&lt;/h2&gt;&lt;p&gt;时间的重要性不用再提，可是我想在这检讨自己，总是不能珍惜时间。把时间多花在有意义的地方。那什么地方是有意义呢？我想应该是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;站在长长的时间维度上，多想想。&lt;/li&gt;
&lt;li&gt;站在大大的空间维度上，多想想。&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;今天一天是普通的一天，也是我一生中唯一的-2016-07-20&quot;&gt;&lt;a href=&quot;#今天一天是普通的一天，也是我一生中唯一的-2016-07-20&quot; class=&quot;headerlink&quot; title=&quot;今天一天是普通的一天，也是我一生中唯一的 2016-07-2
    
    </summary>
    
      <category term="未分类" scheme="https://mapledev.github.io/categories/%E6%9C%AA%E5%88%86%E7%B1%BB/"/>
    
    
  </entry>
  
  <entry>
    <title>今天不宜撸代码----泛型擦除，我记住你了</title>
    <link href="https://mapledev.github.io/2016/07/18/%E4%BB%8A%E5%A4%A9%E4%B8%8D%E5%AE%9C%E6%92%B8%E4%BB%A3%E7%A0%81----%E6%B3%9B%E5%9E%8B%E6%93%A6%E9%99%A4%EF%BC%8C%E6%88%91%E8%AE%B0%E4%BD%8F%E4%BD%A0%E4%BA%86/"/>
    <id>https://mapledev.github.io/2016/07/18/今天不宜撸代码----泛型擦除，我记住你了/</id>
    <published>2016-07-18T14:03:19.000Z</published>
    <updated>2016-07-19T05:34:58.567Z</updated>
    
    <content type="html">&lt;p&gt;昨天还说：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;有空补一个 泛型应用在 JSON 解析时的栗子。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Flag立的飞起。劝君莫装13，会还的。。。&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;本来的想法是这样的：&quot;&gt;&lt;a href=&quot;#本来的想法是这样的：&quot; class=&quot;headerlink&quot; title=&quot;本来的想法是这样的：&quot;&gt;&lt;/a&gt;本来的想法是这样的：&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;LoginAct点击事件发送 LoginHttpReq 请求至 LoginController。&lt;em&gt;(V)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;LoginController 通过封装好的 HttpUtil 返回 respJSONStr。&lt;em&gt;(C)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;解析 respJSONStr 将结果通过回调方法的参数 LoginBean 传回 LoginAct。&lt;em&gt;(M)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;LoginAct 里创建 Handle 处理 LoginBean &lt;/li&gt;
&lt;li&gt;。。。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;实际中，1、2、3、4不止 Login 一种，所以代码的提取显得很必要。其中今天我想把第三步抽取一个 BaseController 万能的 Controller 能对各种 JSON 做解析 handleJSON(String respJSONStr) {…} 。&lt;br&gt;这必然需要用到 泛型 。 但是千万要注意：&lt;/p&gt;
&lt;h3 id=&quot;泛型擦除-这个大坑&quot;&gt;&lt;a href=&quot;#泛型擦除-这个大坑&quot; class=&quot;headerlink&quot; title=&quot; 泛型擦除  这个大坑&quot;&gt;&lt;/a&gt;&lt;strong&gt; 泛型擦除 &lt;/strong&gt; 这个大坑&lt;/h3&gt;&lt;p&gt;它会造成已知的运行错误：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;以下代码中的 &lt;code&gt;new TypeReference&amp;lt;List&amp;lt;T&amp;gt;&amp;gt;(){}&lt;/code&gt; T 只是 Java 的语法糖，她只会存在编译器阶段限定 List 中的类型，编译成为 class 二进制文件 T 的生命就寝了，所以她  &lt;code&gt;new TypeReference&amp;lt;List&amp;lt;Object&amp;gt;&amp;gt;(){}&lt;/code&gt;，这称为泛型擦除 &lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;List&amp;lt;T&amp;gt; rstBeans = JSON.parseObject(rstJSONStr, &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TypeReference&amp;lt;List&amp;lt;T&amp;gt;&amp;gt;()&amp;#123;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;so 当运行时 &lt;code&gt;RstLoginBean rstLoginBean = rstBeans.get(0);&lt;/code&gt; 时悲剧发生了：&lt;br&gt;&lt;code&gt;java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap cannot be cast to com.xznn.xzmall.bean.RstLoginBean&lt;/code&gt;&lt;br&gt;而 IDE 不会报任何错误。（注意 &lt;code&gt;LinkedTreeMap&lt;/code&gt; cast to &lt;code&gt;RstLoginBean&lt;/code&gt;）&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;喜闻乐见好人做好的轮子：&quot;&gt;&lt;a href=&quot;#喜闻乐见好人做好的轮子：&quot; class=&quot;headerlink&quot; title=&quot;喜闻乐见好人做好的轮子：&quot;&gt;&lt;/a&gt;喜闻乐见好人做好的轮子：&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * &lt;span class=&quot;doctag&quot;&gt;@author&lt;/span&gt; MapleDev&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * &lt;span class=&quot;doctag&quot;&gt;@time&lt;/span&gt; 16/07/19  21:22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * &lt;span class=&quot;doctag&quot;&gt;@desc&lt;/span&gt; 将 JSON String 转化成 List&amp;lt;T&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &amp;lt;T&amp;gt; &lt;span class=&quot;function&quot;&gt;ArrayList&amp;lt;T&amp;gt; &lt;span class=&quot;title&quot;&gt;json2List&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String json, Class&amp;lt;T&amp;gt; classOfT)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// 先反序列化出ArrayList&amp;lt;JsonObject&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Gson gson = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Gson();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Type type = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TypeToken&amp;lt;ArrayList&amp;lt;JsonObject&amp;gt;&amp;gt;()&amp;#123;&amp;#125;.getType();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ArrayList&amp;lt;JsonObject&amp;gt; jsonObjs = gson.fromJson(json, type);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// 然后在一个个的把JsonObject转成classOfT类型的对象&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ArrayList&amp;lt;T&amp;gt; listOfT = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (JsonObject jsonObj : jsonObjs) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            listOfT.add(gson.fromJson(jsonObj, classOfT));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; listOfT;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;``` &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;OR 更简洁的写法：&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;``` java&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * &lt;span class=&quot;doctag&quot;&gt;@author&lt;/span&gt; MapleDev&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * &lt;span class=&quot;doctag&quot;&gt;@time&lt;/span&gt; 16/07/19  21:32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * &lt;span class=&quot;doctag&quot;&gt;@desc&lt;/span&gt; 将 JSON String 转化成 List&amp;lt;T&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &amp;lt;T&amp;gt; &lt;span class=&quot;function&quot;&gt;List&amp;lt;T&amp;gt; &lt;span class=&quot;title&quot;&gt;json2List&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String json, Class&amp;lt;T&amp;gt; clazz)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        List&amp;lt;T&amp;gt; lst = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        JsonArray array = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; JsonParser().parse(json).getAsJsonArray();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (JsonElement elem : array) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            lst.add(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Gson().fromJson(elem, clazz));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; lst;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;Reference&quot;&gt;&lt;a href=&quot;#Reference&quot; class=&quot;headerlink&quot; title=&quot;Reference&quot;&gt;&lt;/a&gt;Reference&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/zxhoo/article/details/34856061&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GSON使用笔记（3） – 如何反序列化出List - zxh的专栏 - 博客频道 - CSDN.NET:&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;昨天还说：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;有空补一个 泛型应用在 JSON 解析时的栗子。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Flag立的飞起。劝君莫装13，会还的。。。&lt;/p&gt;
    
    </summary>
    
      <category term="Android" scheme="https://mapledev.github.io/categories/Android/"/>
    
    
      <category term="坑" scheme="https://mapledev.github.io/tags/%E5%9D%91/"/>
    
  </entry>
  
  <entry>
    <title>泛型的使用（小白向）</title>
    <link href="https://mapledev.github.io/2016/07/17/%E6%B3%9B%E5%9E%8B%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%88%E5%B0%8F%E7%99%BD%E5%90%91%EF%BC%89/"/>
    <id>https://mapledev.github.io/2016/07/17/泛型的使用（小白向）/</id>
    <published>2016-07-17T03:34:43.000Z</published>
    <updated>2016-07-18T15:37:43.479Z</updated>
    
    <content type="html">&lt;h2 id=&quot;说起泛型，小白大多是一脸懵逼。引用我-Java-的启蒙老师马士兵的话&quot;&gt;&lt;a href=&quot;#说起泛型，小白大多是一脸懵逼。引用我-Java-的启蒙老师马士兵的话&quot; class=&quot;headerlink&quot; title=&quot;说起泛型，小白大多是一脸懵逼。引用我 Java 的启蒙老师马士兵的话&quot;&gt;&lt;/a&gt;说起泛型，小白大多是一脸懵逼。引用我 Java 的启蒙老师马士兵的话&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;豆芽菜长一房高，它也是一根菜！咋们把他摘（二声）了就不行了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;泛型从 Java 1.5 引进，麻麻再也不用担心我 &lt;strong&gt; 强转类型 &lt;/strong&gt; 了。但是，万恶的但是啊。泛型的引入对代码的可读性造成成吨的伤害。&lt;/p&gt;
&lt;p&gt;泛型是什么。我就不一一解释（其实也说得不好），大家自行搜索。&lt;/p&gt;
&lt;p&gt;在这我就说说泛型怎么吃好了 &amp;gt;_&amp;lt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;先看看不用泛型会怎样：&quot;&gt;&lt;a href=&quot;#先看看不用泛型会怎样：&quot; class=&quot;headerlink&quot; title=&quot;先看看不用泛型会怎样：&quot;&gt;&lt;/a&gt;先看看不用泛型会怎样：&lt;/h2&gt;&lt;p&gt;ParamTypeDemo.java&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;IParamType&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String msg)&lt;/span&gt;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ParamTypeDemo&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;IParamType&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String msg)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.out.println(msg);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;test 方法：&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ParamTypeDemoTest&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Test&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;testPrint&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; Exception &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ParamTypeDemo paramTypeString = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ParamTypeDemo();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        paramTypeString.print(&lt;span class=&quot;string&quot;&gt;&quot;我是泛型，你会爱我么？&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;可以看到，代码比较简单。但局限性很大，只能传 String 类型，如果相传个 Date、List··· n种类型，只能写 n 中 这样无聊的代码了。。。大家应该都不想的吧。&lt;/p&gt;
&lt;h2 id=&quot;不过现在有了泛型是这样的：&quot;&gt;&lt;a href=&quot;#不过现在有了泛型是这样的：&quot; class=&quot;headerlink&quot; title=&quot;不过现在有了泛型是这样的：&quot;&gt;&lt;/a&gt;不过现在有了泛型是这样的：&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 注意 T 的位置&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;IParamType&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(T msg)&lt;/span&gt;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ParamTypeDemo&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;IParamType&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;T&lt;/span&gt;&amp;gt;&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(T msg)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.out.println(msg);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//    @Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//    public void print(String msg) &amp;#123;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//        System.out.print(msg);&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//    &amp;#125;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;test 方法：&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ParamTypeDemoTest&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Test&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;testPrint&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; Exception &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// 打印 String 没问题&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ParamTypeDemo&amp;lt;String&amp;gt; paramTypeString = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ParamTypeDemo&amp;lt;&amp;gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        paramTypeString.print(&lt;span class=&quot;string&quot;&gt;&quot;我是泛型，你会爱我么？&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// 打印 Date 没问题&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ParamTypeDemo&amp;lt;java.util.Date&amp;gt; paramTypeDate = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ParamTypeDemo&amp;lt;&amp;gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        paramTypeDate.print(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; java.util.Date(System.currentTimeMillis()));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// 我觉得还可以打印10086个都冇问题&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;Tips&quot;&gt;&lt;a href=&quot;#Tips&quot; class=&quot;headerlink&quot; title=&quot;Tips:&quot;&gt;&lt;/a&gt;Tips:&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;泛型的 E 文是 Parameter Type （参数类型），大家可以将 &lt;strong&gt; &lt;code&gt;XXType&amp;lt;T&amp;gt;&lt;/code&gt; &lt;/strong&gt; 看成一个&lt;strong&gt;整体类型&lt;/strong&gt;，类似于数组类型 &lt;code&gt;int[]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;因为泛型可以看成是类型的一部分，所以她也拥有着类型的&lt;strong&gt;继承体系&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;注意泛型继承到最后的类，就不能写虚的 T 了，需指定一个 Type 放置于 宿主类型 &lt;code&gt;XXType&amp;lt;&amp;gt;&lt;/code&gt; 的&amp;lt;&amp;gt;之中。ps：如果不写，默认按照 Object 类型处理了。 &lt;/li&gt;
&lt;li&gt;以上代码Demo 是个玩具代码，有空补一个 泛型应用在 JSON 解析时的栗子。&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;说起泛型，小白大多是一脸懵逼。引用我-Java-的启蒙老师马士兵的话&quot;&gt;&lt;a href=&quot;#说起泛型，小白大多是一脸懵逼。引用我-Java-的启蒙老师马士兵的话&quot; class=&quot;headerlink&quot; title=&quot;说起泛型，小白大多是一脸懵逼。引用我 Java 的启蒙老师马士兵的话&quot;&gt;&lt;/a&gt;说起泛型，小白大多是一脸懵逼。引用我 Java 的启蒙老师马士兵的话&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;豆芽菜长一房高，它也是一根菜！咋们把他摘（二声）了就不行了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;泛型从 Java 1.5 引进，麻麻再也不用担心我 &lt;strong&gt; 强转类型 &lt;/strong&gt; 了。但是，万恶的但是啊。泛型的引入对代码的可读性造成成吨的伤害。&lt;/p&gt;
&lt;p&gt;泛型是什么。我就不一一解释（其实也说得不好），大家自行搜索。&lt;/p&gt;
&lt;p&gt;在这我就说说泛型怎么吃好了 &amp;gt;_&amp;lt;&lt;/p&gt;
    
    </summary>
    
      <category term="Java" scheme="https://mapledev.github.io/categories/Java/"/>
    
    
      <category term="泛型" scheme="https://mapledev.github.io/tags/%E6%B3%9B%E5%9E%8B/"/>
    
  </entry>
  
  <entry>
    <title>MySQL 免安装版 配置方法</title>
    <link href="https://mapledev.github.io/2016/07/14/MySQL-%E5%85%8D%E5%AE%89%E8%A3%85%E7%89%88-%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95/"/>
    <id>https://mapledev.github.io/2016/07/14/MySQL-免安装版-配置方法/</id>
    <published>2016-07-14T06:33:13.000Z</published>
    <updated>2016-07-17T13:32:17.662Z</updated>
    
    <content type="html">&lt;h2 id=&quot;安装步骤：&quot;&gt;&lt;a href=&quot;#安装步骤：&quot; class=&quot;headerlink&quot; title=&quot;安装步骤：&quot;&gt;&lt;/a&gt;安装步骤：&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;下载MySQL Community Server &lt;a href=&quot;http://dev.mysql.com/downloads/mysql/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://dev.mysql.com/downloads/mysql/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;解压MySQL压缩包&lt;/p&gt;
&lt;p&gt;   将已下载的MySQL压缩包解压到自定义目录下,我的解压目录是:    &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;D:\MapleDev\DevProgram\mysql-5.7.13-winx64
&lt;/code&gt;&lt;/pre&gt; &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;    
&lt;p&gt;   将解压目录下默认文件 my-default.ini 拷贝一份，改名 my.ini&lt;br&gt;   复制下面的配置信息到 my.ini 保存&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;[client]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;port=3306&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;default-character-set=utf8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;[mysqld]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;port=3306&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;character_set_server=utf8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;default-storage-engine=innodb&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# unzip dir &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;basedir=D:\MapleDev\DevProgram\mysql-5.7.13-winx64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# unzip dir data dir&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;datadir=D:\MapleDev\DevProgram\mysql-5.7.13-winx64\data&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;[WinMySQLAdmin]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;D:\MapleDev\DevProgram\mysql-5.7.13-winx64\bin\mysqld.exe&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;添加环境变量&lt;/p&gt;
&lt;p&gt; 操作如下：&lt;/p&gt;
&lt;p&gt; 1）右键单击我的电脑-&amp;gt;属性-&amp;gt;高级系统设置(高级)-&amp;gt;环境变量&lt;/p&gt;
&lt;p&gt;   点击系统变量下的新建按钮&lt;/p&gt;
&lt;p&gt;   输入变量名：&lt;code&gt;MYSQL_HOME&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;   输入变量值：&lt;code&gt;D:\MapleDev\DevProgram\mysql-5.7.13-winx64&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;   #即为mysql的自定义解压目录。&lt;/p&gt;
&lt;p&gt; 2）选择系统变量中的Path&lt;/p&gt;
&lt;p&gt; 点击编辑按钮&lt;/p&gt;
&lt;p&gt;   在变量值中添加变量值：&lt;code&gt;%MYSQL_HOME%\bin&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;   注意是在原有变量值后面加上这个变量，用;隔开，不能删除原来的变量值，&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;将mysql注册为windows系统服务&lt;/p&gt;
&lt;p&gt; 1）从控制台进入到MySQL解压目录下的 bin 目录下：&lt;/p&gt;
&lt;p&gt; 2）输入服务安装命令：&lt;br&gt;&lt;code&gt;mysqld install MySQL --defaults-file=&amp;quot;d:\MapleDev\DevProgram\mysql-5.7.13-winx64\my.ini&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt; 安装成功后会提示服务安装成功。&lt;/p&gt;
&lt;p&gt; &lt;strong&gt;移除&lt;/strong&gt;服务命令为：&lt;code&gt;mysqld remove&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;启动MySQL服务&lt;/p&gt;
&lt;p&gt; 启动服务命令为：&lt;code&gt;net start mysql&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;修改 root 账号的密码&lt;/p&gt;
&lt;p&gt; 刚安装完成时root账号默认密码为空，此时可以将密码修改为指定的密码。如：root&lt;/p&gt;
 &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;c:&amp;gt;mysql –uroot&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;mysql&amp;gt;show databases;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;mysql&amp;gt;use mysql;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;mysql&amp;gt;UPDATE user SET password=PASSWORD(&amp;quot;root&amp;quot;) WHERE user=&amp;apos;root&amp;apos;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;mysql&amp;gt;FLUSH PRIVILEGES;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;mysql&amp;gt;QUIT&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;MySQL控制台快捷方式建立:&lt;/p&gt;
&lt;p&gt; 1）桌面右键-&amp;gt;新建-&amp;gt;快捷方式-&amp;gt;对象位置输入：&lt;code&gt;C:\Windows\System32\cmd.exe&lt;/code&gt;&lt;/p&gt;
&lt;p&gt; 快捷方式名称自己定义，确定，快捷方式建立成功&lt;/p&gt;
&lt;p&gt; 2）右键单击刚才建立的快捷方式-&amp;gt;属性-&amp;gt;把目标一栏修改成MySQL启动参数：&lt;/p&gt;
&lt;p&gt; C:\Windows\System32\cmd.exe “D:\MapleDev\DevProgram\mysql-5.7.13-winx64\bin” /k mysql -uroot -proot mysql&lt;/p&gt;
&lt;p&gt; &lt;em&gt;解释:CMD路径 “MySQL路径bin目录” /k mysql -u用户名 -p密码 [数据库名]&lt;/em&gt;&lt;/p&gt;
&lt;p&gt; 3）修改完成后点击确定保存，直接双击快捷方式即可连接到MySQL数据库&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;PS：&quot;&gt;&lt;a href=&quot;#PS：&quot; class=&quot;headerlink&quot; title=&quot;PS：&quot;&gt;&lt;/a&gt;PS：&lt;/h2&gt;&lt;p&gt;   从 &lt;strong&gt;MySQL5.7&lt;/strong&gt; 开始，安装MySQL服务 &lt;code&gt;net start MySQL&lt;/code&gt; 提示”请键入 NET     HELPMSG 3534 以获得更多的帮助”的解决办法:&lt;/p&gt;
   &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1. 先删除data目录下的所有文件或者移走（初次解压没有data请忽略此步骤）。&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2. mysqld --initialize (初始化 data 并生成随机密码 or)   &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   mysqld --initialize-insecure (初始化 data，不生成随机密码)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3. net start mysql&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4. C:\Users\Administrator&amp;gt; mysql -uroot -p默认密码 （默认密码在新生成的 data 文件夹下的 您的计算机名.err 中，eg：_2016-07-13T10:50:57.082079Z 1 [Note] A temporary password is generated for root@localhost: T*1ng)#e2f_k_&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5. 修改密码：mysql&amp;gt; ALTER USER &amp;apos;root&amp;apos;@&amp;apos;localhost&amp;apos; IDENTIFIED BY &amp;apos;root&amp;apos;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;Reference：&quot;&gt;&lt;a href=&quot;#Reference：&quot; class=&quot;headerlink&quot; title=&quot;Reference：&quot;&gt;&lt;/a&gt;Reference：&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;MySQL 官方文档：&lt;a href=&quot;http://dev.mysql.com/doc/refman/5.7/en/data-directory-initialization-mysqld.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://dev.mysql.com/doc/refman/5.7/en/data-directory-initialization-mysqld.html&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;安装步骤：&quot;&gt;&lt;a href=&quot;#安装步骤：&quot; class=&quot;headerlink&quot; title=&quot;安装步骤：&quot;&gt;&lt;/a&gt;安装步骤：&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;下载MySQL Community Server &lt;a href=&quot;http://dev.mysql.com/downloads/mysql/&quot;&gt;http://dev.mysql.com/downloads/mysql/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;解压MySQL压缩包&lt;/p&gt;
&lt;p&gt;   将已下载的MySQL压缩包解压到自定义目录下,我的解压目录是:    &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;D:\MapleDev\DevProgram\mysql-5.7.13-winx64
&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
      <category term="MySQL" scheme="https://mapledev.github.io/categories/MySQL/"/>
    
    
  </entry>
  
  <entry>
    <title>Android 坑神</title>
    <link href="https://mapledev.github.io/2016/07/13/Android-%E5%9D%91%E7%A5%9E/"/>
    <id>https://mapledev.github.io/2016/07/13/Android-坑神/</id>
    <published>2016-07-13T12:53:30.000Z</published>
    <updated>2016-07-17T13:33:02.119Z</updated>
    
    <content type="html">&lt;h2 id=&quot;ListView中使用type需要注意的东西&quot;&gt;&lt;a href=&quot;#ListView中使用type需要注意的东西&quot; class=&quot;headerlink&quot; title=&quot;ListView中使用type需要注意的东西&quot;&gt;&lt;/a&gt;ListView中使用type需要注意的东西&lt;/h2&gt;&lt;p&gt;在使用ListView时，如果使用了getItemViewType， 记得他的值一定要是从0开始计数的。 且要覆盖getViewTypeCount方法。并且让 getViewTypeCount&amp;gt;getItemViewType 否则会有数组越界异常&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; VIEWTYPE_LOAD_MORE = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;// 切记 ViewType 从 0 开始&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; VIEWTYPE_NORMAL = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;viewpager-onPageSelected没有执行&quot;&gt;&lt;a href=&quot;#viewpager-onPageSelected没有执行&quot; class=&quot;headerlink&quot; title=&quot;viewpager onPageSelected没有执行&quot;&gt;&lt;/a&gt;viewpager onPageSelected没有执行&lt;/h2&gt;&lt;p&gt;忘了在 initView() 中调用&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;mViewPager.setOnPageChangeListener(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;ListView-模拟点击-Item-时&quot;&gt;&lt;a href=&quot;#ListView-模拟点击-Item-时&quot; class=&quot;headerlink&quot; title=&quot;ListView 模拟点击 Item 时&quot;&gt;&lt;/a&gt;ListView 模拟点击 Item 时&lt;/h2&gt;&lt;p&gt;务必在 mAdapter 初始化完成后执行（一般在 Handler 的 handleMessage(Message msg) {…} 之中）&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;mTopLv.performItemClick(&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ListView中使用type需要注意的东西&quot;&gt;&lt;a href=&quot;#ListView中使用type需要注意的东西&quot; class=&quot;headerlink&quot; title=&quot;ListView中使用type需要注意的东西&quot;&gt;&lt;/a&gt;ListView中使用type需要注意的东西&lt;/h2&gt;&lt;p&gt;在使用ListView时，如果使用了getItemViewType， 记得他的值一定要是从0开始计数的。 且要覆盖getViewTypeCount方法。并且让 getViewTypeCount&amp;gt;getItemViewType 否则会有数组越界异常&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; VIEWTYPE_LOAD_MORE = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;// 切记 ViewType 从 0 开始&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; VIEWTYPE_NORMAL = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Android" scheme="https://mapledev.github.io/categories/Android/"/>
    
    
  </entry>
  
  <entry>
    <title>Android 学习笔记、摘要</title>
    <link href="https://mapledev.github.io/2016/07/13/Android-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E3%80%81%E6%91%98%E8%A6%81/"/>
    <id>https://mapledev.github.io/2016/07/13/Android-学习笔记、摘要/</id>
    <published>2016-07-13T12:51:52.000Z</published>
    <updated>2016-07-17T13:35:16.692Z</updated>
    
    <content type="html">&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;</content>
    
    <summary type="html">
    
      &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
    
    </summary>
    
    
      <category term="Android" scheme="https://mapledev.github.io/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://mapledev.github.io/2016/07/13/hello-world/"/>
    <id>https://mapledev.github.io/2016/07/13/hello-world/</id>
    <published>2016-07-13T05:57:51.567Z</published>
    <updated>2016-07-13T05:57:51.573Z</updated>
    
    <content type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;Quick-Start&quot;&gt;&lt;a href=&quot;#Quick-Start&quot; class=&quot;headerlink&quot; title=&quot;Quick Start&quot;&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;&lt;h3 id=&quot;Create-a-new-post&quot;&gt;&lt;a href=&quot;#Create-a-new-post&quot; class=&quot;headerlink&quot; title=&quot;Create a new post&quot;&gt;&lt;/a&gt;Create a new post&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ hexo new &lt;span class=&quot;string&quot;&gt;&quot;My New Post&quot;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/writing.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Writing&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Run-server&quot;&gt;&lt;a href=&quot;#Run-server&quot; class=&quot;headerlink&quot; title=&quot;Run server&quot;&gt;&lt;/a&gt;Run server&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ hexo server&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/server.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Server&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Generate-static-files&quot;&gt;&lt;a href=&quot;#Generate-static-files&quot; class=&quot;headerlink&quot; title=&quot;Generate static files&quot;&gt;&lt;/a&gt;Generate static files&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ hexo generate&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/generating.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Generating&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Deploy-to-remote-sites&quot;&gt;&lt;a href=&quot;#Deploy-to-remote-sites&quot; class=&quot;headerlink&quot; title=&quot;Deploy to remote sites&quot;&gt;&lt;/a&gt;Deploy to remote sites&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ hexo deploy&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/deployment.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Deployment&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
    
    </summary>
    
    
  </entry>
  
</feed>
